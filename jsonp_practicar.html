<!doctype html>
<html>
	<head lang="es">
		<meta charset="utf-8"/>
		<title>JSONP ejemplo</title>
		<script src="estaticos/javascript/lib/jquery.min.js"></script>
		
	</head>
	<body>
		<div id="imagenes">
			
		</div>
				
		<script>
			//Las variables y funciones globales son inherentemnete malvadas
			//Para no tener variables globales o funciones 
			//una tecnica muy util es usar closures y funciones autoejecutables			
			$.getJSON("http://api.flickr.com/services/feeds/photos_public.gne?ids=61481595@N05&format=json&jsoncallback=?", function (datos){
				//por que pongo items??
				//por que al ver el api de flickers, tiene esta propiedad
				//y que es un arreglo de javascript				
				var fotos = datos.items;
				fotos.forEach(function(foto){
					var titulo = foto.title;
					var urlImagen = foto.media.m;
					
					var caja = "<div>" +
									"<img src='"+ urlImagen +"'>" +
									"<h2>"+titulo+"</h2>" +
									"<p>"+foto.description+"</p>" +
								"</div>";
					$("#imagenes").append(caja);
				});
			});
		</script>
		
	</body>
</html>

